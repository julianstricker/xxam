{% set iconsize = '16x16' %}
{% set buttonsize = 'medium' %}
{% if buttonsize == 'large' %}
    {% set iconsize = '32x32' %}
{% endif %}
{
    tabtitle: 'Coding',
    tabicon: '/bundles/xxamcoding/icons/16x16/coding.png',
    getitems: function (){
        Xxam.appendHead({
            js: ['/bundles/xxamcoding/ace/src-min-noconflict/ace.js']
        });  
        
        var extensionshighlighters={
            '.js':'javascript',
            '.css':'css',
            '.php':'php',
            '.java':'java',
            '.cpp':'cpp',
            '.txt':'txt'
        }
        
        waitforace=function(){
            if(typeof ace == 'undefined'){
                window.setTimeout(waitforace,100);
            }else{
                editor_{{id}} = ace.edit("aceeditor_{{id}}-body");
                editor_{{id}}.setTheme("ace/theme/monokai");
                Ext.Object.each(extensionshighlighters,function(key,value){
                    if('{{path}}'.substr(-key.length)==key){
                        editor_{{id}}.getSession().setMode("ace/mode/"+value);
                    }
                });
                
                Ext.Ajax.request({
                    url: '{{path('filemanager_readfile')}}',
                    method: 'GET',
                    params: {
                        path: '{{path}}',
                    },
                    success: function(response, options) {
                        editor_{{id}}.setValue(response.responseText);
                        editor_{{id}}.gotoLine(1);

                        
                    },
                    failure: function() {
                        console.log('failure');
                        
                    }
                });
            }
        }
       
        return {
            layout: 'border',
            items: [{
                region: 'west',
                title: ' ',
                //width: 300,
                split: true,
                collapsible: true,
                minSize: 75,
                maxSize: 450,
                layout: 'vbox',
                margins: '0 2 2 2',
                autoScroll: true,
                items: []
            },{
                region: 'center',
                layout: 'fit',
                margins: '2 2 0 0',
                dockedItems: [{
                    xtype: 'toolbar',
                    dock: 'top',
                    items: []
                }],
                items: [],
                id: 'aceeditor_{{id}}',
                listeners:{
                    render: function(ele){
                        waitforace();
                        
                        
                    }
                }
            }]
        }
    }
}